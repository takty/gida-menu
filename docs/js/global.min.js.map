{"version":3,"sources":["global.js"],"names":["window","GIDA","menu_global","id","opts","GlobalNav","resizeListeners","scrollListeners","onResize","fn","doFirst","push","throttle","onScroll","scrollableDetectionTargets","addScrollableDetectionTarget","tar","initializeScrollableDetection","rob","ResizeObserver","oes","oe","detectScrollable","target","observe","addEventListener","elm","scrollWidth","clientWidth","r","scrollLeft","classList","remove","document","l","passive","isRunning","run","requestAnimationFrame","constructor","_root","getElementById","querySelector","_openItem","_openTime","_scrollTop","_panels","_st","_canceled","_startX","_startY","_isOpenedByHover","_bar","SEL_NAV_BAR","menuItems","querySelectorAll","_panelParent","SEL_NAV_PANEL_PARENT","_alignPanel","contains","autoClose","autoScroll","_suppressClickCloseAfterHover","_scrollViewOffset","_defMenuItem","_child","_onBeforeOpen","Array","prototype","slice","call","children","navigator","maxTouchPoints","add","CLS_TOUCHED","addClickStateEventListener","open","e","stopPropagation","closeAll","mis","initializeAutoScroll","mi","li","parentElement","CLS_CURRENT","CLS_MENU_ANCESTOR","CLS_PAGE_ANCESTOR","ensureInView","left","createElement","right","insertBefore","firstChild","appendChild","addScrollerEventListener","items","it","createEventListenerEnter","createEventListenerDown","createEventListenerTouchStart","createEventListenerMove","createEventListenerCancel","createEventListenerUp","createEventListenerLeave","cancelable","preventDefault","p","cancelTimeout","offset","st","doing","scroll","scrollBy","setTimeout","clearTimeout","openPanel","bcr","getBoundingClientRect","bottom","top","Math","abs","pageYOffset","item","clientX","clientY","_touched","t","Date","getTime","clearStateOpened","setStateActive","isOpenedByHover","CLS_OPENED","itemToPanel","focus","alignPanel","CLS_ACTIVE","dataset","parent","offsetLeft","offsetWidth","panel","w","innerWidth","style","bcrI","bcrP","bcrPP","wP","wPP"],"mappings":"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","sourcesContent":["/**\n *\n * Gida Menu - Global (JS)\n *\n * @author Takuto Yanagida\n * @version 2021-07-07\n *\n */\n\n\n(function () {\n\n\twindow.GIDA = window['GIDA'] ?? {};\n\n\twindow.GIDA.menu_global = function (id, opts) {\n\t\tnew GlobalNav(id, opts);\n\t};\n\n\n\t// -------------------------------------------------------------------------\n\n\n\t/**\n\t *\n\t * Common Functions (JS)\n\t *\n\t * @author Takuto Yanagida\n\t * @version 2021-06-30\n\t *\n\t */\n\t\n\t\n\tconst resizeListeners = [];\n\tconst scrollListeners = [];\n\t\n\tfunction onResize(fn, doFirst = false) {\n\t\tif (doFirst) fn();\n\t\tresizeListeners.push(throttle(fn));\n\t}\n\t\n\tfunction onScroll(fn, doFirst = false) {\n\t\tif (doFirst) fn();\n\t\tscrollListeners.push(throttle(fn));\n\t}\n\t\n\t\n\t// -----------------------------------------------------------------------------\n\t\n\t\n\tconst scrollableDetectionTargets = [];\n\t\n\tfunction addScrollableDetectionTarget(tar) {\n\t\tscrollableDetectionTargets.push(tar);\n\t}\n\t\n\tfunction initializeScrollableDetection() {\n\t\tconst rob = new ResizeObserver(oes => {\n\t\t\tfor (const oe of oes) detectScrollable(oe.target);\n\t\t});\n\t\tfor (const tar of scrollableDetectionTargets) {\n\t\t\trob.observe(tar);\n\t\t\ttar.addEventListener('scroll', throttle(() => { detectScrollable(tar); }));\n\t\t}\n\t}\n\t\n\tfunction detectScrollable(elm) {\n\t\tif (elm.scrollWidth - elm.clientWidth > 2) {  // for avoiding needless scrolling\n\t\t\tconst r = elm.scrollLeft / (elm.scrollWidth - elm.clientWidth);\n\t\t\telm.classList[r < 0.95 ? 'add' : 'remove']('scrollable-right');\n\t\t\telm.classList[0.05 < r ? 'add' : 'remove']('scrollable-left');\n\t\t} else {\n\t\t\telm.classList.remove('scrollable-right');\n\t\t\telm.classList.remove('scrollable-left');\n\t\t}\n\t}\n\t\n\t\n\t// -----------------------------------------------------------------------------\n\t\n\t\n\tdocument.addEventListener('DOMContentLoaded', () => {\n\t\twindow.addEventListener('resize', () => { for (const l of resizeListeners) l(); }, { passive: true });\n\t\twindow.addEventListener('scroll', () => { for (const l of scrollListeners) l(); }, { passive: true });\n\t\tinitializeScrollableDetection();\n\t});\n\t\n\tfunction throttle(fn) {\n\t\tlet isRunning;\n\t\tfunction run() {\n\t\t\tisRunning = false;\n\t\t\tfn();\n\t\t}\n\t\treturn () => {\n\t\t\tif (isRunning) return;\n\t\t\tisRunning = true;\n\t\t\trequestAnimationFrame(run);\n\t\t};\n\t}\n\t\n\n\n\t// -------------------------------------------------------------------------\n\n\n\tclass GlobalNav {\n\n\t\tstatic SEL_NAV_BAR          = '.gida-menu-global-bar';\n\t\tstatic SEL_NAV_PANEL_PARENT = '.gida-menu-global-panels';\n\n\t\tstatic CLS_CURRENT       = 'current';\n\t\tstatic CLS_MENU_ANCESTOR = 'menu-ancestor';\n\t\tstatic CLS_PAGE_ANCESTOR = 'page-ancestor';\n\n\t\tstatic CLS_TOUCHED = 'touched';\n\t\tstatic CLS_ACTIVE  = 'active';\n\t\tstatic CLS_OPENED  = 'opened';\n\n\t\tconstructor(id, opts) {\n\t\t\tthis._root = id ? document.getElementById(id) : document.querySelector('.gida-menu-global');\n\t\t\tif (!this._root) return;\n\n\t\t\tthis._openItem  = null;\n\t\t\tthis._openTime  = 0;\n\t\t\tthis._scrollTop = 0;\n\t\t\tthis._panels    = [];\n\t\t\tthis._st        = null;\n\n\t\t\tthis._canceled = false;\n\t\t\tthis._startX   = 0;\n\t\t\tthis._startY   = 0;\n\n\t\t\tthis._isOpenedByHover = false;\n\n\t\t\tthis._bar         = this._root.querySelector(GlobalNav.SEL_NAV_BAR);\n\t\t\tconst menuItems   = this._bar.querySelectorAll('button[data-panel]');\n\t\t\tthis._panelParent = this._root.querySelector(GlobalNav.SEL_NAV_PANEL_PARENT);\n\t\t\tthis._alignPanel  = this._root.classList.contains('pulldown');\n\n\t\t\tconst autoClose                    = opts['autoClose']                    ?? true;\n\t\t\tconst autoScroll                   = opts['autoScroll']                   ?? true;\n\t\t\tthis._suppressClickCloseAfterHover = opts['suppressClickCloseAfterHover'] ?? false;\n\t\t\tthis._scrollViewOffset             = opts['scrollViewOffset']             ?? 20;\n\t\t\tthis._defMenuItem                  = opts['defaultMenuItem']              ?? null;\n\t\t\tthis._child                        = opts['childNav']                     ?? null;\n\t\t\tthis._onBeforeOpen                 = opts['onBeforeOpen']                 ?? null;\n\n\t\t\tif (this._panelParent) {\n\t\t\t\tthis._panels = Array.prototype.slice.call(this._panelParent.children);\n\t\t\t}\n\t\t\t// for avoiding hover style\n\t\t\tif (0 < navigator.maxTouchPoints) {\n\t\t\t\tthis._bar.addEventListener('touchstart', () => {\n\t\t\t\t\tthis._bar.classList.add(GlobalNav.CLS_TOUCHED);\n\t\t\t\t\tthis._panelParent.classList.add(GlobalNav.CLS_TOUCHED);\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.addClickStateEventListener(menuItems);\n\t\t\tif (this._defMenuItem) this.open(this._defMenuItem);\n\n\t\t\taddScrollableDetectionTarget(this._bar);\n\n\t\t\tif (autoClose) {\n\t\t\t\tonScroll(() => { this.onScroll(); });\n\t\t\t\tif (this._panelParent) this._panelParent.addEventListener('click', e => e.stopPropagation());\n\t\t\t\tdocument.addEventListener('click', () => { this.closeAll(); });\n\t\t\t}\n\t\t\tif (autoScroll) {\n\t\t\t\tconst mis = this._bar.querySelectorAll('a, button[data-panel]');\n\t\t\t\tthis.initializeAutoScroll(mis);\n\t\t\t}\n\t\t}\n\n\t\tinitializeAutoScroll(mis) {\n\t\t\tfor (const mi of mis) {\n\t\t\t\tconst li = mi.parentElement;\n\t\t\t\tif (li.classList.contains(GlobalNav.CLS_CURRENT) ||\n\t\t\t\t\tli.classList.contains(GlobalNav.CLS_MENU_ANCESTOR) ||\n\t\t\t\t\tli.classList.contains(GlobalNav.CLS_PAGE_ANCESTOR))\n\t\t\t\t{\n\t\t\t\t\tthis.ensureInView(mi);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst left  = document.createElement('div');\n\t\t\tconst right = document.createElement('div');\n\t\t\tleft.classList.add('scroll-left');\n\t\t\tright.classList.add('scroll-right');\n\t\t\tthis._bar.insertBefore(left, this._bar.firstChild);\n\t\t\tthis._bar.appendChild(right);\n\n\t\t\tthis.addScrollerEventListener(left, -48);\n\t\t\tthis.addScrollerEventListener(right, 48);\n\t\t}\n\n\t\taddClickStateEventListener(items) {\n\t\t\tfor (const it of items) {\n\t\t\t\tit.addEventListener('click', (e) => { e.stopPropagation(); });  // For preventing auto-close\n\n\t\t\t\tit.addEventListener('pointerenter',  this.createEventListenerEnter(it));\n\t\t\t\tit.addEventListener('pointerdown',   this.createEventListenerDown());\n\t\t\t\tit.addEventListener('touchstart',    this.createEventListenerTouchStart());\n\t\t\t\tit.addEventListener('pointermove',   this.createEventListenerMove());\n\t\t\t\tit.addEventListener('pointercancel', this.createEventListenerCancel());\n\t\t\t\tit.addEventListener('pointerup',     this.createEventListenerUp(it));\n\t\t\t\tit.addEventListener('pointerleave',  this.createEventListenerLeave());\n\n\t\t\t\t// For disabling gray out when touching on iOS\n\t\t\t\tit.addEventListener('touchend', (e) => { if (e.cancelable) e.preventDefault(); });\n\t\t\t}\n\t\t\tfor (const p of this._panels) {\n\t\t\t\tp.addEventListener('mouseenter', () => this.cancelTimeout());\n\t\t\t}\n\t\t}\n\n\t\taddScrollerEventListener(elm, offset) {\n\t\t\tlet st = null;\n\t\t\tlet doing = false;\n\t\t\tconst scroll = throttle(() => {\n\t\t\t\tthis._bar.scrollBy(offset, 0);\n\t\t\t\tif (!doing) return;\n\t\t\t\tst = setTimeout(scroll, 100);\n\t\t\t});\n\t\t\telm.addEventListener('mouseenter', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tdoing = true;\n\t\t\t\tst = setTimeout(scroll, 100);\n\t\t\t});\n\t\t\telm.addEventListener('mouseleave', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tdoing = false;\n\t\t\t\tif (st) clearTimeout(st);\n\t\t\t\tst = null;\n\t\t\t});\n\t\t}\n\n\t\tcancelTimeout() {\n\t\t\tif (this._st) clearTimeout(this._st);\n\t\t\tthis._st = null;\n\t\t}\n\n\n\t\t// ---------------------------------------------------------------------\n\n\n\t\tonScroll() {\n\t\t\tif (this._child && this._child._openItem) return;\n\t\t\tif (this._openItem) {\n\t\t\t\tconst openPanel = this._panelParent.querySelector('.gida-menu-global-panel.active.opened');\n\t\t\t\tif (!openPanel) return;\n\t\t\t\tconst bcr = openPanel.getBoundingClientRect();\n\t\t\t\tif (\n\t\t\t\t\tbcr.bottom < 0 ||  // When not fixed\n\t\t\t\t\t(0 < bcr.top && bcr.bottom < Math.abs(window.pageYOffset - this._scrollTop))  // When fixed\n\t\t\t\t) {\n\t\t\t\t\tthis.closeAll();\n\t\t\t\t\tthis.cancelTimeout();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\t// ---------------------------------------------------------------------\n\n\n\t\tcreateEventListenerEnter(item) {\n\t\t\treturn () => {\n\t\t\t\tif (item !== this._openItem) {\n\t\t\t\t\tthis.cancelTimeout();\n\t\t\t\t\tthis._st = setTimeout(() => { this.open(item, true); }, this._openItem !== null ? 400 : 200);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tcreateEventListenerDown() {\n\t\t\treturn (e) => {\n\t\t\t\tthis._canceled = false;\n\t\t\t\tthis._startX   = e.clientX;\n\t\t\t\tthis._startY   = e.clientY;\n\t\t\t};\n\t\t}\n\n\t\tcreateEventListenerTouchStart() {\n\t\t\treturn () => {\n\t\t\t\tthis.cancelTimeout();  // For disabling timeout assigned in enter event\n\t\t\t\tthis._touched = true;\n\t\t\t};\n\t\t}\n\n\t\tcreateEventListenerMove() {\n\t\t\treturn (e) => {\n\t\t\t\tif (10 < Math.abs(e.clientX - this._startX) || 10 < Math.abs(e.clientY - this._startY)) {\n\t\t\t\t\tthis._canceled = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tcreateEventListenerCancel() {\n\t\t\treturn () => { this._canceled = true; }\n\t\t}\n\n\t\tcreateEventListenerUp(item) {\n\t\t\treturn () => {\n\t\t\t\tthis.cancelTimeout();\n\t\t\t\tif (this._canceled) return;\n\t\t\t\tif (this._touched) {\n\t\t\t\t\tif (item === this._openItem) {\n\t\t\t\t\t\tthis.closeAll();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.open(item);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst t = new Date().getTime();\n\t\t\t\tif (t - this._openTime < 200) return;\n\t\t\t\tif (item === this._openItem) {\n\t\t\t\t\tif (this._isOpenedByHover) {\n\t\t\t\t\t\tif (this._suppressClickCloseAfterHover) return;\n\t\t\t\t\t\tif (t - this._openTime < 400) return;\n\t\t\t\t\t}\n\t\t\t\t\tthis.closeAll();\n\t\t\t\t} else {\n\t\t\t\t\tthis.open(item);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tcreateEventListenerLeave() {\n\t\t\treturn () => {\n\t\t\t\tthis.cancelTimeout();\n\t\t\t\tif (this._touched) {\n\t\t\t\t\tthis._touched = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this._openItem !== null) {\n\t\t\t\t\tthis._st = setTimeout(() => { this.closeAll(); }, 800);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\n\t\t// ---------------------------------------------------------------------\n\n\n\t\tcloseAll() {\n\t\t\tif (this._defMenuItem) {\n\t\t\t\tthis.open(this._defMenuItem);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.clearStateOpened();\n\t\t\tthis.setStateActive(null);\n\t\t}\n\n\t\topen(item, isOpenedByHover = false) {\n\t\t\tthis.clearStateOpened();\n\t\t\tthis.setStateActive(item);\n\t\t\tthis.ensureInView(item);\n\n\t\t\titem.parentElement.classList.add(GlobalNav.CLS_OPENED);\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst p = this.itemToPanel(item);\n\t\t\t\tif (p) {\n\t\t\t\t\tp.classList.add(GlobalNav.CLS_OPENED);\n\t\t\t\t\tp.focus();\n\t\t\t\t}\n\t\t\t\tif (this._alignPanel) this.alignPanel(item, p);\n\t\t\t\tif (this._onBeforeOpen) this._onBeforeOpen(item, p);\n\t\t\t}, 0);\n\t\t\tthis._openItem        = item;\n\t\t\tthis._openTime        = new Date().getTime();\n\t\t\tthis._scrollTop       = window.pageYOffset;\n\t\t\tthis._isOpenedByHover = isOpenedByHover;\n\t\t}\n\n\t\tsetStateActive(item) {\n\t\t\tif (item === null) {\n\t\t\t\tfor (const p of this._panels) {\n\t\t\t\t\tp.classList.remove(GlobalNav.CLS_ACTIVE);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst tar = item.dataset['panel'] ?? '';\n\t\t\t\tfor (const p of this._panels) {\n\t\t\t\t\tif (p.id === tar) {\n\t\t\t\t\t\tp.classList.add(GlobalNav.CLS_ACTIVE);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tp.classList.remove(GlobalNav.CLS_ACTIVE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tclearStateOpened() {\n\t\t\tif (this._child) this._child.closeAll();\n\t\t\tif (!this._openItem) return;\n\t\t\tthis._openItem.parentElement.classList.remove(GlobalNav.CLS_OPENED);\n\t\t\tconst item = this._openItem;\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (item === this._openItem) return;\n\t\t\t\tconst p = this.itemToPanel(item);\n\t\t\t\tif (p) p.classList.remove(GlobalNav.CLS_OPENED);\n\t\t\t}, 400);\n\t\t\tthis._openItem = null;\n\t\t}\n\n\t\titemToPanel(item) {\n\t\t\tconst tar = item.dataset['panel'] ?? '';\n\t\t\tif (tar) return document.getElementById(tar);\n\t\t\treturn null;\n\t\t}\n\n\n\t\t// ---------------------------------------------------------------------\n\n\n\t\tensureInView(mi) {\n\t\t\tconst parent = mi.parentElement;\n\t\t\tconst right = parent.offsetLeft + parent.offsetWidth;\n\t\t\tif (this._bar.offsetWidth < right) {\n\t\t\t\tthis._bar.scrollLeft = parent.offsetLeft - this._scrollViewOffset;\n\t\t\t}\n\t\t\tif (parent.offsetLeft < this._bar.scrollLeft) {\n\t\t\t\tthis._bar.scrollLeft = parent.offsetLeft - this._scrollViewOffset;\n\t\t\t}\n\t\t}\n\n\t\talignPanel(item, panel) {\n\t\t\tif (!panel) return;\n\t\t\tconst w = window.innerWidth;\n\t\t\tif (w <= 600) {\n\t\t\t\tpanel.style.left  = '';\n\t\t\t\tpanel.style.right = '';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst bcrI  = item.getBoundingClientRect();\n\t\t\tconst bcrP  = panel.getBoundingClientRect();\n\t\t\tconst bcrPP = this._panelParent.getBoundingClientRect();\n\t\t\tconst wP    = bcrP.right  - bcrP.left;\n\t\t\tconst wPP   = bcrPP.right - bcrPP.left;\n\t\t\tconst l     = bcrI.left   - bcrPP.left;\n\n\t\t\tif (wPP < l + wP + 16) {\n\t\t\t\tpanel.style.left  = 'unset';\n\t\t\t\tpanel.style.right = '0px';\n\t\t\t} else {\n\t\t\t\tpanel.style.left  = l + 'px';\n\t\t\t\tpanel.style.right = 'unset';\n\t\t\t}\n\t\t}\n\n\t}\n\n})();\n"],"file":"global.min.js"}