{"version":3,"sources":["global.js"],"names":["window","menu_global","GlobalNav","arguments","length","undefined","scrollListeners","scrollableDetectionTargets","initializeScrollableDetection","rob","ResizeObserver","oes","oe","detectScrollable","target","tar","observe","addEventListener","throttle","elm","scrollWidth","clientWidth","r","scrollLeft","classList","remove","fn","isRunning","run","requestAnimationFrame","addEventListenerEnterAndStop","callback","st","doing","lx","ly","lt","cb","e","x","y","t","clientX","clientY","timeStamp","v","clearTimeout","setTimeout","document","l","passive","static","constructor","id","opts","this","_root","getElementById","querySelector","_openItem","_openTime","_scrollTop","_panels","_st","_canceled","_startX","_startY","_isOpenedByHover","_bar","SEL_NAV_BAR","menuItems","querySelectorAll","popupItems","_panelParent","SEL_NAV_PANEL_PARENT","_isPulldown","contains","CLS_PULLDOWN","_isUpward","CLS_UPWARD","_isOverflowScroll","CLS_OVERFLOW_SCROLL","autoClose","autoScroll","_scrollViewOffset","_defMenuItem","_child","_onBeforeOpen","_doOpenOnHover","_doSetPanelWidth","_doSuppressCloseAfterHover","Array","prototype","slice","call","children","navigator","maxTouchPoints","m","pointerType","CLS_TOUCH","items","clsCurrent","clsHover","root","clsHoverAncestor","enter","add","parentElement","leave","it","addHoverStateEventListener","CLS_CURRENT","CLS_HOVER","CLS_HOVER_ANCESTOR","addClickStateEventListener","open","push","onScroll","stopPropagation","closeAll","mis","initializeAutoScroll","initializeScroller","closers","SEL_NAV_CLOSER","c","mi","li","CLS_MENU_ANCESTOR","CLS_PAGE_ANCESTOR","ensureInView","sl","createElement","sr","insertBefore","firstChild","appendChild","addScrollerEventListener","createEventListenerEnter","createEventListenerDown","createEventListenerTouchStart","createEventListenerMove","createEventListenerCancel","createEventListenerUp","createEventListenerLeave","cancelable","preventDefault","p","cancelTimeout","offset","scroll","scrollBy","openPanel","bcr","getBoundingClientRect","bottom","top","Math","abs","scrollY","item","_touched","Date","getTime","_suppressCloseAll","clearStateOpened","setStateActive","isOpenedByHover","dispatchEvent","MouseEvent","CLS_OPENED","itemToPanel","focus","alignPanel","assignVisibleHeight","CLS_ACTIVE","dataset","getAttribute","offsetLeft","offsetWidth","panel","innerWidth","style","left","right","minWidth","bcrI","bcrP","bcrPP","wP","wPP","alignRight","h","innerHeight","spt","parseInt","documentElement","scrollPaddingTop","isNaN","setProperty","height"],"mappings":"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","file":"global.min.js","sourcesContent":["/**\n * Gida Menu - Global\n *\n * @author Takuto Yanagida\n * @version 2023-07-06\n */\n\n(function () {\n\n\twindow['GIDA'] = window['GIDA'] ?? {};\n\n\twindow['GIDA'].menu_global = function (id = null, opts = {}) {\n\t\tnew GlobalNav(id, opts);\n\t};\n\n\n\t// -------------------------------------------------------------------------\n\n\n\t/**\n\t * Common Functions\n\t *\n\t * @author Takuto Yanagida\n\t * @version 2023-07-06\n\t */\n\t\n\tconst scrollListeners = [];\n\t\n\tfunction onScroll(fn, doFirst = false) {\n\t\tif (doFirst) fn();\n\t\tscrollListeners.push(throttle(fn));\n\t}\n\t\n\t\n\t// -----------------------------------------------------------------------------\n\t\n\t\n\tconst scrollableDetectionTargets = [];\n\t\n\tfunction addScrollableDetectionTarget(tar) {\n\t\tscrollableDetectionTargets.push(tar);\n\t}\n\t\n\tfunction initializeScrollableDetection() {\n\t\tconst rob = new ResizeObserver(oes => {\n\t\t\tfor (const oe of oes) detectScrollable(oe.target);\n\t\t});\n\t\tfor (const tar of scrollableDetectionTargets) {\n\t\t\trob.observe(tar);\n\t\t\ttar.addEventListener('scroll', throttle(() => { detectScrollable(tar); }));\n\t\t}\n\t\tscrollableDetectionTargets.length = 0;\n\t}\n\t\n\tfunction detectScrollable(elm) {\n\t\tif (elm.scrollWidth - elm.clientWidth > 2) {  // for avoiding needless scrolling\n\t\t\tconst r = elm.scrollLeft / (elm.scrollWidth - elm.clientWidth);\n\t\t\telm.classList[r < 0.95 ? 'add' : 'remove']('scrollable-right');\n\t\t\telm.classList[0.05 < r ? 'add' : 'remove']('scrollable-left');\n\t\t} else {\n\t\t\telm.classList.remove('scrollable-right');\n\t\t\telm.classList.remove('scrollable-left');\n\t\t}\n\t}\n\t\n\t\n\t// -----------------------------------------------------------------------------\n\t\n\t\n\tfunction addHoverStateEventListener(items, clsCurrent, clsHover, root = null, clsHoverAncestor = null) {\n\t\tconst enter = (e) => {\n\t\t\tif (e.pointerType === 'mouse' && !e.target.classList.contains(clsCurrent)) {\n\t\t\t\te.target.classList.add(clsHover);\n\t\t\t\tif (clsHoverAncestor) {\n\t\t\t\t\tfor (let elm = e.target.parentElement; elm && elm !== root; elm = elm.parentElement) {\n\t\t\t\t\t\tif (elm.classList.contains(clsHover)) {\n\t\t\t\t\t\t\telm.classList.add(clsHoverAncestor);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst leave = (e) => {\n\t\t\tif (e.pointerType === 'mouse' && !e.target.classList.contains(clsCurrent)) {\n\t\t\t\te.target.classList.remove(clsHover);\n\t\t\t\tif (clsHoverAncestor) {\n\t\t\t\t\tfor (let elm = e.target.parentElement; elm && elm !== root; elm = elm.parentElement) {\n\t\t\t\t\t\tif (elm.classList.contains(clsHover)) {\n\t\t\t\t\t\t\telm.classList.remove(clsHoverAncestor);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const it of items) {\n\t\t\tit.addEventListener('pointerenter', enter);\n\t\t\tit.addEventListener('pointerleave', leave);\n\t\t}\n\t}\n\t\n\t\n\t// -----------------------------------------------------------------------------\n\t\n\t\n\tdocument.addEventListener('DOMContentLoaded', () => {\n\t\twindow.addEventListener('scroll', () => { for (const l of scrollListeners) l(); }, { passive: true });\n\t\tinitializeScrollableDetection();\n\t\twindow.addEventListener('load', initializeScrollableDetection);\n\t});\n\t\n\tfunction throttle(fn) {\n\t\tlet isRunning;\n\t\tfunction run() {\n\t\t\tisRunning = false;\n\t\t\tfn();\n\t\t}\n\t\treturn () => {\n\t\t\tif (isRunning) return;\n\t\t\tisRunning = true;\n\t\t\trequestAnimationFrame(run);\n\t\t};\n\t}\n\t\n\n\tfunction addEventListenerEnterAndStop(target, callback) {\n\t\tlet st           = null;\n\t\tlet doing        = false;\n\t\tlet [lx, ly, lt] = [0, 0, 0];\n\n\t\tconst cb = () => {\n\t\t\tdoing = false;\n\t\t\tcallback();\n\t\t};\n\t\tconst v = (e) => {\n\t\t\tconst [x, y, t] = [e.clientX, e.clientY, e.timeStamp];\n\t\t\tconst v = ((x - lx) * (x - lx) + (y - ly) * (y - ly)) / (t - lt);\n\t\t\t[lx, ly, lt] = [x, y, t];\n\t\t\treturn v;\n\t\t}\n\n\t\ttarget.addEventListener('pointerenter', () => {\n\t\t\tdoing = true;\n\t\t});\n\t\ttarget.addEventListener('pointermove', (e) => {\n\t\t\tif (!doing) return;\n\t\t\tif (0.1 < v(e)) {\n\t\t\t\tclearTimeout(st);\n\t\t\t\tst = setTimeout(cb, 50);\n\t\t\t}\n\t\t})\n\t\ttarget.addEventListener('pointerleave', () => {\n\t\t\tclearTimeout(st);\n\t\t\tdoing = false;\n\t\t});\n\t}\n\n\n\t// -------------------------------------------------------------------------\n\n\n\tclass GlobalNav {\n\n\t\tstatic SEL_NAV_BAR          = '.gida-menu-global-bar';\n\t\tstatic SEL_NAV_PANEL_PARENT = '.gida-menu-global-panels';\n\t\tstatic SEL_NAV_CLOSER       = '.gida-menu-global-closer';\n\n\t\tstatic CLS_PULLDOWN        = 'pulldown';\n\t\tstatic CLS_UPWARD          = 'upward';\n\t\tstatic CLS_OVERFLOW_SCROLL = 'overflow-scroll';\n\n\t\tstatic CLS_CURRENT       = 'current';\n\t\tstatic CLS_MENU_ANCESTOR = 'menu-ancestor';\n\t\tstatic CLS_PAGE_ANCESTOR = 'page-ancestor';\n\n\t\tstatic CLS_HOVER  = 'hover';\n\t\tstatic CLS_TOUCH  = 'touch';\n\t\tstatic CLS_ACTIVE = 'active';\n\t\tstatic CLS_OPENED = 'opened';\n\n\t\tstatic CLS_HOVER_ANCESTOR = 'hover-ancestor';\n\n\t\tconstructor(id, opts) {\n\t\t\tthis._root = id ? document.getElementById(id) : document.querySelector('.gida-menu-global');\n\t\t\tif (!this._root) return;\n\n\t\t\tthis._openItem  = null;\n\t\t\tthis._openTime  = 0;\n\t\t\tthis._scrollTop = 0;\n\t\t\tthis._panels    = [];\n\t\t\tthis._st        = null;\n\n\t\t\tthis._canceled = false;\n\t\t\tthis._startX   = 0;\n\t\t\tthis._startY   = 0;\n\n\t\t\tthis._isOpenedByHover = false;\n\n\t\t\tthis._bar         = this._root.querySelector(GlobalNav.SEL_NAV_BAR);\n\t\t\tconst menuItems   = this._root.querySelectorAll('.menu > li');\n\t\t\tconst popupItems  = this._bar.querySelectorAll('button[data-panel]' + /**/', label[for]'/**/);\n\t\t\tthis._panelParent = this._root.querySelector(GlobalNav.SEL_NAV_PANEL_PARENT);\n\n\t\t\tthis._isPulldown       = this._root.classList.contains(GlobalNav.CLS_PULLDOWN);\n\t\t\tthis._isUpward         = this._root.classList.contains(GlobalNav.CLS_UPWARD);\n\t\t\tthis._isOverflowScroll = this._root.classList.contains(GlobalNav.CLS_OVERFLOW_SCROLL);\n\n\t\t\tconst autoClose                 = opts['autoClose']                 ?? true;\n\t\t\tconst autoScroll                = opts['autoScroll']                ?? true;\n\t\t\tthis._scrollViewOffset          = opts['scrollViewOffset']          ?? 20;\n\t\t\tthis._defMenuItem               = opts['defaultMenuItem']           ?? null;\n\t\t\tthis._child                     = opts['childNav']                  ?? null;\n\t\t\tthis._onBeforeOpen              = opts['onBeforeOpen']              ?? null;\n\t\t\tthis._doOpenOnHover             = opts['doOpenOnHover']             ?? true;\n\t\t\tthis._doSetPanelWidth           = opts['doSetPanelWidth']           ?? false;\n\t\t\tthis._doSuppressCloseAfterHover = opts['doSuppressCloseAfterHover'] ?? false;\n\n\t\t\tif (this._panelParent) {\n\t\t\t\tthis._panels = Array.prototype.slice.call(this._panelParent.children);\n\t\t\t}\n\t\t\tif (0 < navigator.maxTouchPoints) {\n\t\t\t\tthis._bar.addEventListener('pointerenter', (e) => {\n\t\t\t\t\tconst m = (e.pointerType === 'mouse') ? 'remove' : 'add';\n\t\t\t\t\tthis._bar.classList[m](GlobalNav.CLS_TOUCH);\n\t\t\t\t\tthis._panelParent.classList[m](GlobalNav.CLS_TOUCH);\n\t\t\t\t});\n\t\t\t}\n\t\t\taddHoverStateEventListener(menuItems, GlobalNav.CLS_CURRENT, GlobalNav.CLS_HOVER, this._root, GlobalNav.CLS_HOVER_ANCESTOR);\n\t\t\tthis.addClickStateEventListener(popupItems);\n\t\t\tif (this._defMenuItem) this.open(this._defMenuItem);\n\n\t\t\taddScrollableDetectionTarget(this._bar);\n\n\t\t\tif (autoClose) {\n\t\t\t\tonScroll(() => this.onScroll());\n\t\t\t\tif (this._panelParent) this._panelParent.addEventListener('click', e => e.stopPropagation());\n\t\t\t\tdocument.addEventListener('click', () => this.closeAll());\n\t\t\t}\n\t\t\tif (autoScroll) {\n\t\t\t\tconst mis = this._bar.querySelectorAll('a, button[data-panel]' + /**/', label[for]'/**/);\n\t\t\t\tthis.initializeAutoScroll(mis);\n\t\t\t}\n\t\t\tthis.initializeScroller();\n\n\t\t\tconst closers = this._root.querySelectorAll(GlobalNav.SEL_NAV_CLOSER);\n\t\t\tfor (const c of closers) {\n\t\t\t\tc.addEventListener('click', () => this.closeAll());\n\t\t\t}\n\t\t}\n\n\t\tinitializeAutoScroll(mis) {\n\t\t\tfor (const mi of mis) {\n\t\t\t\tconst li = mi.parentElement;\n\t\t\t\tif (li.classList.contains(GlobalNav.CLS_CURRENT) ||\n\t\t\t\t\tli.classList.contains(GlobalNav.CLS_MENU_ANCESTOR) ||\n\t\t\t\t\tli.classList.contains(GlobalNav.CLS_PAGE_ANCESTOR))\n\t\t\t\t{\n\t\t\t\t\tthis.ensureInView(mi);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinitializeScroller() {\n\t\t\tconst sl = document.createElement('div');\n\t\t\tconst sr = document.createElement('div');\n\t\t\tsl.classList.add('scroll-left');\n\t\t\tsr.classList.add('scroll-right');\n\t\t\tthis._bar.insertBefore(sl, this._bar.firstChild);\n\t\t\tthis._bar.appendChild(sr);\n\n\t\t\tthis.addScrollerEventListener(sl, -48);\n\t\t\tthis.addScrollerEventListener(sr, 48);\n\t\t}\n\n\t\taddClickStateEventListener(items) {\n\t\t\tfor (const it of items) {\n\t\t\t\tit.addEventListener('click', (e) => { e.stopPropagation(); });  // For preventing auto-close\n\n\t\t\t\tif (this._doOpenOnHover) {\n\t\t\t\t\taddEventListenerEnterAndStop(it, this.createEventListenerEnter(it));\n\t\t\t\t}\n\t\t\t\tit.addEventListener('pointerdown',   this.createEventListenerDown());\n\t\t\t\tit.addEventListener('touchstart',    this.createEventListenerTouchStart());\n\t\t\t\tit.addEventListener('pointermove',   this.createEventListenerMove());\n\t\t\t\tit.addEventListener('pointercancel', this.createEventListenerCancel());\n\t\t\t\tit.addEventListener('pointerup',     this.createEventListenerUp(it));\n\t\t\t\tit.addEventListener('pointerleave',  this.createEventListenerLeave());\n\n\t\t\t\t// For disabling gray out when touching on iOS\n\t\t\t\tit.addEventListener('touchend', (e) => { if (e.cancelable) e.preventDefault(); });\n\t\t\t}\n\t\t\tfor (const p of this._panels) {\n\t\t\t\tp.addEventListener('mouseenter', () => this.cancelTimeout());\n\t\t\t}\n\t\t}\n\n\t\taddScrollerEventListener(elm, offset) {\n\t\t\tlet st = null;\n\t\t\tlet doing = false;\n\t\t\tconst scroll = throttle(() => {\n\t\t\t\tthis._bar.scrollBy(offset, 0);\n\t\t\t\tif (!doing) return;\n\t\t\t\tst = setTimeout(scroll, 100);\n\t\t\t});\n\t\t\telm.addEventListener('mouseenter', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tdoing = true;\n\t\t\t\tst = setTimeout(scroll, 100);\n\t\t\t});\n\t\t\telm.addEventListener('mouseleave', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tdoing = false;\n\t\t\t\tif (st) clearTimeout(st);\n\t\t\t\tst = null;\n\t\t\t});\n\t\t}\n\n\t\tcancelTimeout() {\n\t\t\tif (this._st) clearTimeout(this._st);\n\t\t\tthis._st = null;\n\t\t}\n\n\n\t\t// ---------------------------------------------------------------------\n\n\n\t\tonScroll() {\n\t\t\tif (this._child && this._child._openItem) return;\n\t\t\tif (this._openItem) {\n\t\t\t\tconst openPanel = this._panelParent.querySelector('.gida-menu-global-panel.active.opened');\n\t\t\t\tif (!openPanel) return;\n\t\t\t\tconst bcr = openPanel.getBoundingClientRect();\n\t\t\t\tif (\n\t\t\t\t\tbcr.bottom < 0 ||  // When not fixed\n\t\t\t\t\t(0 < bcr.top && bcr.bottom < Math.abs(window.scrollY - this._scrollTop))  // When fixed\n\t\t\t\t) {\n\t\t\t\t\tthis.closeAll();\n\t\t\t\t\tthis.cancelTimeout();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\t// ---------------------------------------------------------------------\n\n\n\t\tcreateEventListenerEnter(item) {\n\t\t\treturn () => {\n\t\t\t\tif (item !== this._openItem) {\n\t\t\t\t\tthis.cancelTimeout();\n\t\t\t\t\tthis._st = setTimeout(() => this.open(item, true), 100);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tcreateEventListenerDown() {\n\t\t\treturn (e) => {\n\t\t\t\tthis._canceled = false;\n\t\t\t\tthis._startX   = e.clientX;\n\t\t\t\tthis._startY   = e.clientY;\n\t\t\t};\n\t\t}\n\n\t\tcreateEventListenerTouchStart() {\n\t\t\treturn () => {\n\t\t\t\tthis.cancelTimeout();  // For disabling timeout assigned in enter event\n\t\t\t\tthis._touched = true;\n\t\t\t};\n\t\t}\n\n\t\tcreateEventListenerMove() {\n\t\t\treturn (e) => {\n\t\t\t\tif (10 < Math.abs(e.clientX - this._startX) || 10 < Math.abs(e.clientY - this._startY)) {\n\t\t\t\t\tthis._canceled = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tcreateEventListenerCancel() {\n\t\t\treturn () => { this._canceled = true; }\n\t\t}\n\n\t\tcreateEventListenerUp(item) {\n\t\t\treturn () => {\n\t\t\t\tthis.cancelTimeout();\n\t\t\t\tif (this._canceled) return;\n\t\t\t\tif (this._touched) {\n\t\t\t\t\tif (item === this._openItem) {\n\t\t\t\t\t\tthis.closeAll();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.open(item);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst t = new Date().getTime();\n\t\t\t\tif (t - this._openTime < 200) return;\n\t\t\t\tif (item === this._openItem) {\n\t\t\t\t\tif (this._isOpenedByHover) {\n\t\t\t\t\t\tif (this._doSuppressCloseAfterHover) return;\n\t\t\t\t\t\tif (t - this._openTime < 400) return;\n\t\t\t\t\t}\n\t\t\t\t\tthis.closeAll();\n\t\t\t\t} else {\n\t\t\t\t\tthis.open(item);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tcreateEventListenerLeave() {\n\t\t\treturn () => {\n\t\t\t\tthis.cancelTimeout();\n\t\t\t\tif (this._touched) {\n\t\t\t\t\tthis._touched = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this._openItem !== null) {\n\t\t\t\t\tthis._st = setTimeout(() => this.closeAll(), 800);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\n\t\t// ---------------------------------------------------------------------\n\n\n\t\tcloseAll() {\n\t\t\tif (this._suppressCloseAll) return;\n\t\t\tif (this._defMenuItem) {\n\t\t\t\tthis.open(this._defMenuItem);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.clearStateOpened();\n\t\t\tthis.setStateActive(null);\n\t\t}\n\n\t\topen(item, isOpenedByHover = false) {\n\t\t\tthis._suppressCloseAll = true;\n\t\t\tdocument.dispatchEvent(new MouseEvent('click'));\n\t\t\tthis._suppressCloseAll = false;\n\n\t\t\tthis.clearStateOpened();\n\t\t\tthis.setStateActive(item);\n\t\t\tthis.ensureInView(item);\n\n\t\t\titem.parentElement.classList.add(GlobalNav.CLS_OPENED);\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst p = this.itemToPanel(item);\n\t\t\t\tif (p) {\n\t\t\t\t\tp.classList.add(GlobalNav.CLS_OPENED);\n\t\t\t\t\tp.focus();\n\t\t\t\t}\n\t\t\t\tif (this._isPulldown) this.alignPanel(item, p);\n\t\t\t\tif (this._isOverflowScroll) this.assignVisibleHeight(item, p);\n\t\t\t\tif (this._onBeforeOpen) this._onBeforeOpen(item, p);\n\t\t\t}, 0);\n\t\t\tthis._openItem        = item;\n\t\t\tthis._openTime        = new Date().getTime();\n\t\t\tthis._scrollTop       = window.scrollY;\n\t\t\tthis._isOpenedByHover = isOpenedByHover;\n\t\t}\n\n\t\tsetStateActive(item) {\n\t\t\tif (item === null) {\n\t\t\t\tfor (const p of this._panels) {\n\t\t\t\t\tp.classList.remove(GlobalNav.CLS_ACTIVE);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst tar = item.dataset['panel'] ?? /**/item.getAttribute('for') ??/**/ '';\n\t\t\t\tfor (const p of this._panels) {\n\t\t\t\t\tif (p.id === tar) {\n\t\t\t\t\t\tp.classList.add(GlobalNav.CLS_ACTIVE);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tp.classList.remove(GlobalNav.CLS_ACTIVE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tclearStateOpened() {\n\t\t\tif (this._child) this._child.closeAll();\n\t\t\tif (!this._openItem) return;\n\t\t\tthis._openItem.parentElement.classList.remove(GlobalNav.CLS_OPENED);\n\t\t\tconst item = this._openItem;\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (item === this._openItem) return;\n\t\t\t\tconst p = this.itemToPanel(item);\n\t\t\t\tif (p) p.classList.remove(GlobalNav.CLS_OPENED);\n\t\t\t}, 400);\n\t\t\tthis._openItem = null;\n\t\t}\n\n\t\titemToPanel(item) {\n\t\t\tconst tar = item.dataset['panel'] ?? /**/item.getAttribute('for') ??/**/ '';\n\t\t\tif (tar) return document.getElementById(tar);\n\t\t\treturn null;\n\t\t}\n\n\n\t\t// ---------------------------------------------------------------------\n\n\n\t\tensureInView(mi) {\n\t\t\tconst l = mi.parentElement.offsetLeft;\n\t\t\tconst r = l + mi.parentElement.offsetWidth;\n\t\t\tif (this._bar.scrollLeft + this._bar.offsetWidth < r) {\n\t\t\t\tthis._bar.scrollLeft = r - this._bar.offsetWidth + this._scrollViewOffset;\n\t\t\t}\n\t\t\tif (l < this._bar.scrollLeft) {\n\t\t\t\tthis._bar.scrollLeft = l - this._scrollViewOffset;\n\t\t\t}\n\t\t}\n\n\t\talignPanel(item, panel) {\n\t\t\tif (!panel) return;\n\t\t\tconst w = window.innerWidth;\n\t\t\tif (w <= 600) {\n\t\t\t\tpanel.style.left     = '';\n\t\t\t\tpanel.style.right    = '';\n\t\t\t\tif (this._doSetPanelWidth) {\n\t\t\t\t\tpanel.style.minWidth = '';\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst bcrI  = item.getBoundingClientRect();\n\t\t\tconst bcrP  = panel.getBoundingClientRect();\n\t\t\tconst bcrPP = this._panelParent.getBoundingClientRect();\n\t\t\tconst wP    = bcrP.right  - bcrP.left;\n\t\t\tconst wPP   = bcrPP.right - bcrPP.left;\n\t\t\tconst l     = bcrI.left   - bcrPP.left;\n\n\t\t\tconst alignRight = (wPP < l + wP + 16);\n\n\t\t\tpanel.style.left     = alignRight ? 'unset' : `${l}px`;\n\t\t\tpanel.style.right    = alignRight ? '0px'   : 'unset';\n\t\t\tif (this._doSetPanelWidth) {\n\t\t\t\tpanel.style.minWidth = (bcrI.right - bcrI.left) + 'px';\n\t\t\t}\n\t\t}\n\n\t\tassignVisibleHeight(item, panel) {\n\t\t\tif (!panel) return;\n\t\t\tconst h = window.innerHeight;\n\n\t\t\tlet spt = parseInt(document.documentElement.style.scrollPaddingTop, 10);\n\t\t\tspt = isNaN(spt) ? 0 : spt;\n\n\t\t\tpanel.style.setProperty('--visible-height', null);\n\n\t\t\tconst bcrI = item.getBoundingClientRect();\n\t\t\tconst bcrP = panel.getBoundingClientRect();\n\n\t\t\tif (h - bcrI.height - spt < bcrP.height) {\n\t\t\t\tpanel.style.setProperty('--visible-height', `${h - bcrI.height - spt}px`);\n\t\t\t}\n\t\t}\n\n\t}\n\n})();\n"]}