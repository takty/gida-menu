"use strict";window.GIDA=window.GIDA??{},window.GIDA.menu_priority=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="gida-menu-priority",s=n+"-panels",o=n+"-panel",i=n+"-button",l="current",a="ready",c="hover",r="active",d="opened",u=e?document.getElementById(e):document.getElementsByClassName(n)[0];if(!u)return;const m=u.querySelector(".menu")??u.getElementsByTagName("ul")[0];if(!m)return;const p=Array.from(m.querySelectorAll(":scope > li")),f=getComputedStyle(m),g=t.autoClose??!0;let L=0,h=0;const v=[],E=[];function w(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&e(),v.push(T(e))}function y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&e(),E.push(T(e))}const b=[];function C(){const e=new ResizeObserver((e=>{for(const t of e)W(t.target)}));for(const t of b)e.observe(t),t.addEventListener("scroll",T((()=>{W(t)})))}function W(e){if(e.scrollWidth-e.clientWidth>2){const t=e.scrollLeft/(e.scrollWidth-e.clientWidth);e.classList[t<.95?"add":"remove"]("scrollable-right"),e.classList[.05<t?"add":"remove"]("scrollable-left")}else e.classList.remove("scrollable-right"),e.classList.remove("scrollable-left")}function N(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const i=e=>{if("mouse"===e.pointerType&&!e.target.classList.contains(t)&&(e.target.classList.add(n),o))for(let t=e.target.parentElement;t&&t!==s;t=t.parentElement)t.classList.contains(n)&&t.classList.add(o)},l=e=>{if("mouse"===e.pointerType&&!e.target.classList.contains(t)&&(e.target.classList.remove(n),o))for(let t=e.target.parentElement;t&&t!==s;t=t.parentElement)t.classList.contains(n)&&t.classList.remove(o)};for(const t of e)t.addEventListener("pointerenter",i),t.addEventListener("pointerleave",l)}function T(e){let t;function n(){t=!1,e()}return()=>{t||(t=!0,requestAnimationFrame(n))}}document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("resize",(()=>{for(const e of v)e()}),{passive:!0}),window.addEventListener("scroll",(()=>{for(const e of E)e()}),{passive:!0}),C()}));const[A,B]=D(u),[I,G]=O(m);m.appendChild(I),G.addEventListener("click",(e=>{I.classList.contains(d)?R(I,A):S(I,A),e.stopPropagation()}));for(const e of p)e.addEventListener("click",(()=>{R(I,A)}));N(p,l,c);let k=[];function D(e){const t=document.createElement("div");t.classList.add(s);const n=document.createElement("div");n.classList.add(o);const i=document.createElement("ul");return i.classList.add("menu"),n.appendChild(i),t.appendChild(n),e.appendChild(t),[n,i]}function O(e){const t=document.createElement("button");t.classList.add(i);const n=document.createElement("li");return n.appendChild(t),e.appendChild(n),[n,t]}function R(e,t){e.classList.remove(d),t.classList.remove(r),setTimeout((()=>{t.classList.remove(d)}),400)}function S(e,t){e.classList.add(d),t.classList.add(r),setTimeout((()=>{t.classList.add(d)}),0),L=window.pageYOffset}function q(e,t){const n=t.getBoundingClientRect();(n.bottom<0||0<n.top&&n.bottom<Math.abs(window.pageYOffset-L))&&R(e,t)}function F(e){const t=e.parentElement,n=getComputedStyle(t),s=t.clientWidth-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight));e.style.maxWidth=s+"px"}function x(e,t,n,s,o){let i=t.parentElement.getBoundingClientRect().width,l=s.length;const a=o.clientWidth;if(i<e.reduce(((e,t)=>e+t))+h*(e.length-1)){i-=a;for(let t=0;t<e.length;t+=1)if((i-=e[t]+h)<0){l=t;break}}for(let n=0;n<l;n+=1)s[n].parentElement===t?e[n]=s[n].offsetWidth:t.insertBefore(s[n],o);h=parseInt(f.columnGap,10),h=Number.isNaN(h)?0:h;for(let e=l;e<s.length;e+=1)n.appendChild(s[e]);o.style.display=l===s.length?"none":""}setTimeout((()=>{k=p.map((e=>e.offsetWidth)),h=parseInt(f.columnGap,10),h=Number.isNaN(h)?0:h,x(k,m,B,p,I),w((()=>{F(u),x(k,m,B,p,I)}))}),10),setTimeout((()=>{u.classList.add(a)}),100),g&&(y((()=>{q(I,A)})),document.addEventListener("click",(()=>{R(I,A)})))};
//# sourceMappingURL=priority.min.js.map