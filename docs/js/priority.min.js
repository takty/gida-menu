"use strict";window.GIDA=window.GIDA??{},window.GIDA.menu_priority=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="gida-menu-priority",s=n+"-panels",o=n+"-panel",l=n+"-button",i="active",r="opened",a="--max-width",c=e?document.getElementById(e):document.getElementsByClassName(n)[0];if(!c)return;const d=c.querySelector(".menu")??c.getElementsByTagName("ul")[0];if(!d)return;const u=Array.from(d.querySelectorAll(":scope > li")),m=getComputedStyle(d),p=t.autoClose??!0,f=t.reversed??!1,h=t.buttonPosition??"end",g=function(e,t){const n=new Array(e.length);for(let t=0;t<e.length;t+=1)n[t]=B(e[t],e.length-t);const s=new Array(e.length);for(let t=0;t<e.length;t+=1)s[t]=t;s.sort(((e,t)=>n[e]<n[t]?1:n[e]>n[t]?-1:0)),t&&s.reverse();return s}(u,f);let L=0,v=0;const y=[];const E=[];function w(){const e=new ResizeObserver((e=>{for(const t of e)b(t.target)}));for(const t of E)e.observe(t),t.addEventListener("scroll",C((()=>{b(t)})));E.length=0}function b(e){if(e.scrollWidth-e.clientWidth>2){const t=e.scrollLeft/(e.scrollWidth-e.clientWidth);e.classList[t<.95?"add":"remove"]("scrollable-right"),e.classList[.05<t?"add":"remove"]("scrollable-left")}else e.classList.remove("scrollable-right"),e.classList.remove("scrollable-left")}function C(e){let t;function n(){t=!1,e()}return()=>{t||(t=!0,requestAnimationFrame(n))}}document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("scroll",(()=>{for(const e of y)e()}),{passive:!0}),w(),window.addEventListener("load",w)}));const[N,A]=function(e){const t=document.createElement("div");t.classList.add(s);const n=document.createElement("div");n.classList.add(o),("end"===h||"start"===h)&&n.classList.add("end"===h?"end":"start");const l=document.createElement("ul");return l.classList.add("menu"),n.appendChild(l),t.appendChild(n),e.appendChild(t),[n,l]}(c),[W,I]=function(e){const t=document.createElement("button");t.classList.add(l);const n=document.createElement("li");return n.appendChild(t),e.appendChild(n),[n,t]}(d);"end"===h?d.append(W):"start"===h&&d.prepend(W),I.addEventListener("click",(e=>{W.classList.contains(r)?G(W,N):function(e,t){e.classList.add(r),t.classList.add(i),setTimeout((()=>{t.classList.add(r)}),0),L=window.scrollY}(W,N),e.stopPropagation()}));for(const e of u)e.addEventListener("click",(()=>{G(W,N)}));!function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const l=e=>{if("mouse"===e.pointerType&&!e.target.classList.contains(t)&&(e.target.classList.add(n),o))for(let t=e.target.parentElement;t&&t!==s;t=t.parentElement)t.classList.contains(n)&&t.classList.add(o)},i=e=>{if("mouse"===e.pointerType&&!e.target.classList.contains(t)&&(e.target.classList.remove(n),o))for(let t=e.target.parentElement;t&&t!==s;t=t.parentElement)t.classList.contains(n)&&t.classList.remove(o)};for(const t of e)t.addEventListener("pointerenter",l),t.addEventListener("pointerleave",i)}(u,"current","hover");let T=[];function B(e,t){const n=e.className.split(" ");let s=null;for(const e of n){const t=parseInt(e,10);isNaN(t)||(null===s||s<t)&&(s=t)}return s??t}function G(e,t){e.classList.remove(r),t.classList.remove(i),setTimeout((()=>{t.classList.remove(r)}),400)}function R(e,t,n,s,o){t.style.width="0";const l=Math.floor(t.parentElement.getBoundingClientRect().width);t.style.width=null;const[i,r]=function(e,t,n,s,o){const l=new Array(n.length);l.fill(!0);const i=t.reduce(((e,t)=>e+t))+o*(t.length-1);if(e<i){e-=s.clientWidth;let i=n.length;for(let s=0;s<n.length;s+=1)if((e-=t[g[s]]+o)<0){i=s;break}for(let e=i;e<n.length;e+=1)l[g[e]]=!1}return[l,e<i]}(l,e,s,o,v);o.style.display=r?null:"none","false"===getComputedStyle(t).getPropertyValue("--foldable").trim()&&(i.fill(!0),o.style.display="none");for(let n=0;n<s.length;n+=1)i[n]&&(s[n].parentElement===t&&(e[n]=s[n].offsetWidth),"end"===h?t.insertBefore(s[n],o):"start"===h&&t.appendChild(s[n],o));v=parseInt(m.columnGap,10),v=Number.isNaN(v)?0:v;for(let e=0;e<s.length;e+=1)i[e]||n.appendChild(s[e])}setTimeout((()=>{T=u.map((e=>e.offsetWidth)),v=parseInt(m.columnGap,10),v=Number.isNaN(v)?0:v,R(T,d,A,u,W);const e=new ResizeObserver((()=>{requestAnimationFrame((()=>{G(W,N),function(e){const t=e.parentElement,n=getComputedStyle(t),s=t.clientWidth-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight));e.style.setProperty(a,`${Math.floor(s)}px`)}(c),R(T,d,A,u,W)}))}));e.observe(c),e.observe(c.parentElement)}),10),setTimeout((()=>{c.classList.add("ready")}),100),p&&(!function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&e(),y.push(C(e))}((()=>{!function(e,t){const n=t.getBoundingClientRect();(n.bottom<0||0<n.top&&n.bottom<Math.abs(window.scrollY-L))&&G(e,t)}(W,N)})),document.addEventListener("click",(()=>{G(W,N)})))};
//# sourceMappingURL=priority.min.js.map